<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Login Form</title>
  <style>
    #existing {
      display: none; /* Hidden by default */
    }
  </style>
</head>
<body>

  <h1>Login Form</h1>

  <form id="loginForm">
    <input type="text" placeholder="Username" id="username"><br><br>
    <input type="password" placeholder="Password" id="password"><br><br>
    <label>
      <input type="checkbox" id="checkbox"> Remember me.
    </label><br><br>
    <input type="submit" id="submit" value="Submit">
  </form>

  <button id="existing">Login as existing user</button>

  <script>
    // Check for existing credentials on page load
    window.onload = function () {
      const savedUsername = localStorage.getItem("username");
      const savedPassword = localStorage.getItem("password");

      // If credentials exist, show the 'Login as existing user' button
      if (savedUsername && savedPassword) {
        document.getElementById("existing").style.display = "inline-block";
      }

      // Set initial form state
      document.getElementById("checkbox").checked = false;
      document.getElementById("username").value = "";
      document.getElementById("password").value = "";
    };

    // Form submission handler
    document.getElementById("loginForm").addEventListener("submit", function (e) {
      e.preventDefault(); // Prevent actual form submission

      const username = document.getElementById("username").value;
      const password = document.getElementById("password").value;
      const remember = document.getElementById("checkbox").checked;

      alert("Logged in as " + username);

      if (remember) {
        localStorage.setItem("username", username);
        localStorage.setItem("password", password);
        document.getElementById("existing").style.display = "inline-block";
      } else {
        localStorage.removeItem("username");
        localStorage.removeItem("password");
        document.getElementById("existing").style.display = "none";
      }
    });

    // Existing user login handler
    document.getElementById("existing").addEventListener("click", function () {
      const savedUsername = localStorage.getItem("username");
      if (savedUsername) {
        alert("Logged in as " + savedUsername);
      }
    });
  </script>

</body>
</html>